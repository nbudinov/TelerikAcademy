{"version":3,"sources":["usersService.js"],"names":[],"mappings":";;;;;;;;6BAAsB,iBAAiB;;;;gCACxB,oBAAoB;;;;qBAEpB;AACd,aAAY,EAAE,sBAAS,QAAQ,EAAE,QAAQ,EAAE;AAC1C,SAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAA;;AAEvB,6BAAU,GAAG,CAAC,UAAU,CAAC,CACvB,IAAI,CAAC,UAAU,QAAQ,EAAE;AACzB,IAAC,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;;AAE7B,IAAC,CAAC,eAAe,CAAC,CAAC,EAAE,CAAC,OAAO,EAAE,YAAY;AAC1C,QAAI,QAAQ,GAAG,CAAC,CAAC,UAAU,CAAC,CAAC,GAAG,EAAE,CAAC;AACnC,QAAI,QAAQ,GAAG,CAAC,CAAC,UAAU,CAAC,CAAC,GAAG,EAAE,CAAC;;AAEnC,kCAAG,QAAQ,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAC7B,OAAO,CAAC,UAAU,IAAI,EAAE;AACxB,YAAO,CAAC,GAAG,CAAC,OAAO,GAAG,QAAQ,GAAG,cAAc,GAC9C,cAAc,EAAE,IAAI,CAAC,CAAC;KACvB,CAAC,CACD,KAAK,CAAC,UAAU,IAAI,EAAE;AACtB,YAAO,CAAC,GAAG,CAAC,kBAAkB,EAAE,IAAI,CAAC,CAAC;KACtC,CAAC,CAAA;IACH,CAAC,CAAA;GACF,CAAC,CAAA;EACH;;AAED,UAAS,EAAE,mBAAS,QAAQ,EAAE,QAAQ,EAAE;AACvC,SAAO,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;AACzB,6BAAU,GAAG,CAAC,OAAO,CAAC,CACpB,IAAI,CAAC,UAAU,QAAQ,EAAE;AACzB,IAAC,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;;AAE7B,IAAC,CAAC,YAAY,CAAC,CAAC,EAAE,CAAC,OAAO,EAAE,YAAW;AACtC,QAAI,QAAQ,GAAG,CAAC,CAAC,UAAU,CAAC,CAAC,GAAG,EAAE,CAAC;AACnC,QAAI,QAAQ,GAAG,CAAC,CAAC,UAAU,CAAC,CAAC,GAAG,EAAE,CAAC;AACnC,WAAO,CAAC,GAAG,CAAC,eAAe,EAAE,QAAQ,EAAE,QAAQ,CAAC,CAAA;;AAEhD,kCAAG,KAAK,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAC1B,OAAO,CAAC,UAAS,IAAI,EAAE;AACvB,YAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;;AAElB,iBAAY,CAAC,OAAO,CAAC,YAAY,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;AACpD,iBAAY,CAAC,OAAO,CAAC,UAAU,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;KAChD,CAAC,CACD,KAAK,CAAC,UAAS,IAAI,EAAE;AACrB,YAAO,CAAC,GAAG,CAAC,cAAc,EAAE,IAAI,CAAC,CAAC;KAClC,CAAC,CAAA;IAEH,CAAC,CAAA;GAEF,CAAC,CAAA;EAGH;CACD","file":"usersService-compiled.js","sourcesContent":["import templates from 'js/templates.js';\r\nimport db from 'js/DBOperations.js';\r\n\r\nexport default {\r\n\tregisterUser: function(username, password) {\r\n\t\tconsole.log('register')\r\n\r\n\t\ttemplates.get('register')\r\n\t\t\t.then(function (template) {\r\n\t\t\t\t$('#content').html(template);\r\n\r\n\t\t\t\t$('#btn-register').on('click', function () {\r\n\t\t\t\t\tvar username = $('#tb-user').val();\r\n\t\t\t\t\tvar password = $('#tb-pass').val();\r\n\r\n\t\t\t\t\tdb.register(username, password)\r\n\t\t\t\t\t\t.success(function (data) {\r\n\t\t\t\t\t\t\tconsole.log('user-' + username + ' registered ' +\r\n\t\t\t\t\t\t\t\t'successfully', data);\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.error(function (data) {\r\n\t\t\t\t\t\t\tconsole.log('failed register ', data);\r\n\t\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t},\r\n\r\n\tloginUser: function(username, password) {\r\n\t\tconsole.log('loging in');\r\n\t\ttemplates.get('login')\r\n\t\t\t.then(function (template) {\r\n\t\t\t\t$('#content').html(template);\r\n\r\n\t\t\t\t$('#btn-login').on('click', function() {\r\n\t\t\t\t\tvar username = $('#tb-user').val();\r\n\t\t\t\t\tvar password = $('#tb-pass').val();\r\n\t\t\t\t\tconsole.log('IN THE BUTTON', username, password)\r\n\r\n\t\t\t\t\tdb.login(username, password)\r\n\t\t\t\t\t\t.success(function(data) {\r\n\t\t\t\t\t\t\tconsole.log(data);\r\n\t\t\t\t\t\t\t//set sessionKey\r\n\t\t\t\t\t\t\tlocalStorage.setItem('sessionKey', data.sessionKey);\r\n\t\t\t\t\t\t\tlocalStorage.setItem('username', data.username);\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.error(function(data) {\r\n\t\t\t\t\t\t\tconsole.log('login failed', data);\r\n\t\t\t\t\t\t})\r\n\r\n\t\t\t\t})\r\n\r\n\t\t\t})\r\n\r\n\r\n\t}\r\n}\r\n\r\n"]}